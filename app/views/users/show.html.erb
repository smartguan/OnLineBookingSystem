<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>

  <script src="/app/assets/javascripts/jquery.cookie.js"></script>
  <style type="text/css">
/*  .nav-tabs > li > a {
    padding-top: 8px;
    padding-bottom: 8px;
    line-height: 20px;
    border: 1px solid transparent;
    -webkit-border-radius: 4px 4px 0 0;
    -moz-border-radius: 4px 4px 0 0;
    border-radius: 4px 4px 0 0;
    color: white;
    background-color: darkslategray;
  }
.table.table-hover {
  border:solid;
  border-width: 1px;
}
.nav-tabs > .active > a:hover {
  color: black;
  background-color: white;
  border: 1px solid #ddd;
  border-bottom-color: transparent;
  cursor: default;
}*/

/*

#calendar {
	width: 886px;
	margin: 0 auto;
	margin-top: -7px;
	background-color: white;
	border:  white thin solid;
}


.tabbable {
  width:600px;
  border-style: solid;
  border-width: 1px;
  border-color: darkslategray;
}*/
/*.container#thisstuff {
  padding-top: 100px;
}*/
</style>
  
</head>


<%# render 'navbar/homepage_navbar' %>
<%= render 'navbar/new_navbar' %>

<!-- User Profile Information -->
<!-- Lessons -->
<div class="container" id="thisstuff">
  <div class="row-fluid">
    <div class="tabbable span4">
      <ul class="nav nav-tabs">
        <li class="active"><a href="#1" data-toggle="tab">Details</a></li>
        <li><a href="#2" data-toggle="tab">Contact Info</a></li>
        <li><a href="#3" data-toggle="tab">Additional Info</a></li>
      </ul>
      <div class="tab-content">
        
        <div class="tab-pane active" id="1">
            <h4>User Details</h4>
            
            <table class="table table-hover">
                <tr>
                <td>First Name</td>
                <td><span id="show-first"></span></td>
                </tr>
                <tr>
                <td>Last Name</td>
                <td><span id="show-last"></span></td>
                </tr>
                <tr>
                <td>Email</td>
                <td><span id="show-email"></span></td>
                </tr>
                <tr>
                <td>Date of Birth</td>
                <td><span id="show-dob"></span></td>
                </tr>
                <td>Gender</td>
                <td><span id="show-gender"></span></td>
                </tr>
            </table>
            <h4>Current Residence</h4>
            <legend></legend>
            
            <table class="table table-hover">
                <tr>
                <td>Address</td>
                <td><span id="show-residence-address"></span></td>
                </tr>
                <td>City</td>
                <td><span id="show-residence-city"></span></td>
                </tr>
                <td>Zipcode</td>
                <td><span id="show-residence-zip"></span></td>
                </tr>
            </table>
        </div>
        <div class="tab-pane" id="2">
            <h4>Contact Info</h4>
            
            <table class="table table-hover">
                <tr>
                  <th>First Contact Number</th>
                </tr>
                <tr>
                  <td>Contact Name</td>
                  <td><span id="show-contacts-first-name"></span></td>
                </tr>
                <tr>
                  <td>Primary Number</td>
                  <td><span id="show-contacts-first-primary"></span></td>
                </tr>
                <tr>
                  <td>Secondary Number</td>
                  <td><span id="show-contacts-first-secondary"></span></td>
                </tr>
            </table>
            <table class="table table-hover">
                <tr>
                  <th>Second Contact Number</th>
                </tr>
                <tr>
                  <td>Contact Name</td>
                  <td><span id="show-contacts-second-name"></span></td>
                </tr>
                <tr>
                  <td>Primary Number</td>
                  <td><span id="show-contacts-second-primary"></span></td>
                </tr>
                <tr>
                  <td>Secondary Number</td>
                  <td><span id="show-contacts-second-secondary"></span></td>
                </tr>
            </table>
        </div>


        <div class="tab-pane" id="3">
            <h4>Skill Level</h4>
            <table class="table table-hover">
                <tr>
                <td>Skill Level</td>
                <td><span id="show-skill"></span></td>
                </tr>
            </table>
            <h4>Additional Information</h4>
            <p style="border:solid; border-width:1px;"><span id="show-extra"></span></p>
        </div> <!-- other -->
      </div> <!-- tabcontent -->
    </div> <!-- tabbable -->

    <%# render 'users/testSection' %>
    <%= render 'users/user_sections' %>



  </div> <!-- row -->
</div>
<!-- Put extra hiddend values here -->
<%# render 'users/section_template' %>
<%# render 'shared/update_user_form' %>
<%# render 'users/update_user_additional' %>
<%= render 'navbar/update_user_password' %>
<%# render 'users/update_user_contacts' %>

<%= render 'navbar/update_user_modal' %>




<script type="text/javascript">



$(document).ready( function() {
    init_navbar_profile();
    init_user_profile();
    init_password_update();
});



function init_navbar_profile() {
    $('#CreateAccountButton').hide();
    $("#SignDropDown").hide();
    $("#WelcomeDropDown").show();
    $("#login-user-button").click(sendLoginUserRequest);
    $('#update-user-button').click(sendUpdateUserRequest);
    $('#logout-button').click(function() {
        post_json_request("/Users/logout", {}, function(data) { 
        alert("logging out");
        window.location.href = '/';
        return false; 
      });
    });
}


function init_user_profile() {
  $.getJSON("/Users/profile", handleProfileResponse);
  $.getJSON("/Registrations/getEnrolledSections", handleViewSectionsResponse);
  return true;
}







</script>
</html>
